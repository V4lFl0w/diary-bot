<!doctype html>
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Оплата</title>
<style>
body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;margin:0}
.wrap{max-width:740px;margin:32px auto;padding:0 16px}
h1{font-size:28px;margin:0 0 24px}
a.btn,button.btn{display:block;width:100%;padding:18px 20px;border:0;border-radius:16px;font-size:20px;color:#fff;text-decoration:none;text-align:center;margin:14px 0;cursor:pointer}
a.btn.card,button.btn.card{background:#5b39f0}
a.btn.crypto,button.btn.crypto{background:#14a37f}
</style>
<div class="wrap">
  <h1>Выберите способ оплаты</h1>
  <a class="btn card"   target="_top" rel="noopener" href="/pay-mono">Картой (MonoPay, Apple/Google Pay)</a>
  <a class="btn crypto" target="_top" rel="noopener" href="/pay-crypto">Криптой (USDT TRC20)</a></div>

<script>
  const p = new URLSearchParams(window.location.search);
  const tg = p.get("tg_id");
  if (tg) {
    document.querySelectorAll('a[href^="/pay-"]').forEach(a => {
      const u = new URL(a.getAttribute("href"), window.location.origin);
      u.searchParams.set("tg_id", tg);
      a.setAttribute("href", u.pathname + "?" + u.searchParams.toString());
    });
    document.querySelectorAll('form[action^="/pay-"]').forEach(f => {
      const u = new URL(f.getAttribute("action"), window.location.origin);
      u.searchParams.set("tg_id", tg);
      f.setAttribute("action", u.pathname + "?" + u.searchParams.toString());
    });
  }
</script>
</body>
</html>
