<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>ValFlow Music</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body { background:#0f0f12; color:white; font-family:sans-serif; padding:15px }
    .track { padding:10px; border-bottom:1px solid #222 }
    button { background:#1db954; border:none; padding:8px 12px; color:white; border-radius:8px }
  </style>
</head>
<body>

<h2>üéµ –ú–æ–π –ø–ª–µ–π–ª–∏—Å—Ç</h2>
<div id="tracks"></div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

async function loadTracks() {
  const res = await fetch("/api/music/my");
  const data = await res.json();

  const container = document.getElementById("tracks");
  container.innerHTML = "";

  data.forEach(t => {
    const div = document.createElement("div");
    div.className = "track";
    div.innerHTML = `
      <b>${t.title}</b><br/>
      <audio controls src="${t.file_id}"></audio>
    `;
    container.appendChild(div);
  });
}

loadTracks();
</script>

</body>
</html>